version: '3.5'

services:
  api:
    build: ./Back_End
    volumes:
      - ./Back_End:/Back_End:ro
    working_dir: /Back_End
    environment:
      - FLASK_APP=./api/v1/app.py
      - FLASK_DEBUG=1
    command: flask run --host=0.0.0.0

  webserver:
    image: nginx
    ports:
      - 8000:80
    volumes:
      - ./nginx/default.d/:/etc/nginx/conf.d/
    depends_on:
      - api
